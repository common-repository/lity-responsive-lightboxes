!function(t){const e=JSON.parse(lityScriptData.mediaData),a=lityScriptData.a11y_aria_label,i=function(){t(lityScriptData.element_selectors).not(lityScriptData.excluded_element_selectors).each((function(){t(this).wrap(`<a href="#" data-lity-target="${t(this).attr("src")}" data-lity class="lity-a11y-link" aria-label="${a.replace(":","").replace("%s","").trim()}"></a>`)}))},n=function(){"no"!==lityScriptData.options.show_full_size&&e&&t(lityScriptData.element_selectors).each((function(){let e=c.findImageObj(t(this).attr("src"));Object.keys(e).length>0&&t(this).parent(".lity-a11y-link").attr("data-lity-target",e.urls[0])}))},l=function(e,a){if("no"===lityScriptData.options.use_background_image)return;const i=a.opener();let n=!1;i[0].hasAttribute("src")?n=i[0].currentSrc:i[0].hasAttribute("data-lity-target")&&(n=t(i[0]).attr("data-lity-target")),n&&t(".lity-wrap").before(`<div class="lity-lightbox-background" style="background-image: url(${n});"></div>`)},r=function(){"no"!==lityScriptData.options.show_image_info&&e&&t(lityScriptData.element_selectors).each((function(){let e=c.findImageObj(t(this).attr("src"));if(Object.keys(e).length>0&&(e.title&&t(this).parent(".lity-a11y-link").attr("aria-label",a.replace("%s",e.title)).attr("data-lity-title",e.title),e.caption&&t(this).parent(".lity-a11y-link").attr("data-lity-description",e[lityScriptData.options.caption_type]),e.custom_data&&Object.keys(e.custom_data).length))for(const[a,i]of Object.entries(e.custom_data))t(this).parent(".lity-a11y-link").attr(`data-lity-custom-${a}`,`${i.element_wrap}:${i.content}`)}))},o=function(e,a){const i=a.opener(),n=i.data("lity-title"),l=i.data("lity-description"),r=c.getImageCustomData(i);(n||l)&&t(".lity-content").addClass("lity-image-info").append("<div class=lity-info></div>"),n&&t(".lity-info").append("<h4>"+i.data("lity-title")+"</h4>"),l&&t(".lity-info").append("<p>"+i.data("lity-description")+"</p>"),r.length&&r.forEach((e=>{t(".lity-info").append(`<${e.element} class="${e.class}">${e.content}</${e.element}>`)}))},c={getImageCustomData:function(t){let e=t.data(),a=[];for(const[t,i]of Object.entries(e)){if(!t.includes("lityCustom"))continue;let e=i.split(":");a.push({class:t,element:e[0],content:e[1]})}return a},findImageObj:function(t){for(var a=0;a<e.length;a++)if(e[a].urls.includes(t))return e[a];return{}}};t(document).on("ready",i),t(document).on("ready",n),t(document).on("ready",r),t(document).on("lity:ready",o),t(document).on("lity:open",l)}(jQuery);
